 @page "/products"
 @inject HttpClient Http

 
 <h3>Products</h3>

   @if (products.Count==0) 
   {      
     <h3>No products founds...</h3>
   }
   else
   {
         <div class="d-flex  flex-wrap justify-content-between">
           @foreach (var product in products)
           {

        <div class="card m-2" style="width: 35rem;">
            <img class="card-img-top" src="http://donuterie.ro/img/donuts/Donuterie-Donut-Cu-Kinder-Bueno.jpg" alt="Card image cap">
                <div>
                    <p>Name: @product.Name</p>
                    <p>Price: @product.Price</p>
                    <p>Type:@product.Type</p>
                </div>
        </div>

                }
        </div>


   }




@code {
    private List<ProductResponseModel> products = new List<ProductResponseModel>();

    protected override async Task OnInitializedAsync()
    {
        products = await Http .GetFromJsonAsync<List<ProductResponseModel>>("products");

    }

    public class ProductResponseModel
    {
        public Guid Id { get; set; }                           

        public string Name { get; set; }

        public double Price { get; set; }

        public ProductType Type{ get;  set;}
    }

    public enum ProductType
    {
       Donuts=1,
       Juice=2,
       Waffles=3 

    }
}
